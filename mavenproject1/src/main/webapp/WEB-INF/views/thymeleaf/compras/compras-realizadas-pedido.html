<!DOCTYPE html>
<html layout:decorate="~{_layout-zero}">
    <head>
        <title>Electrosa: Compras realizadas / Pedido</title>
        <link rel="stylesheet" th:href="@{/static/assets/css/nuevosEstilos.css}"/>
    </head>
    <body>
        <main layout:fragment="main-content">
            <div class="product-container">

            <div class="container">

                <!--
                          - SIDEBAR
                    -->

                <div class="sidebar  has-scrollbar sidebar-user-account" data-mobile-menu>


                    <div class="product-showcase">

                        <div class="showcase-wrapper" style="margin-top: 80px;">

                            <div class="showcase-container">

                                <div class="showcase">

                                    <a href="/pr9/cliente/pedido" class="showcase-img-box">
                                        <ion-icon name="cube" style="color: var(--sandy-brown);"></ion-icon>
                                    </a>

                                    <div class="showcase-content">

                                        <a th:href="@{|/cliente/pedido|}">
                                            <h4 class="showcase-title">Compras realizadas</h4>
                                        </a>

                                    </div>

                                </div>
                                
                                <div class="showcase">

                                    <a href="/pr9/cliente/pedido/anulados" class="showcase-img-box">
                                        <ion-icon name="cube" style="color: var(--salmon-pink);"></ion-icon>
                                    </a>

                                    <div class="showcase-content">

                                        <a th:href="@{|/cliente/pedido/anulados|}">
                                            <h4 class="showcase-title">Pedidos anulados</h4>
                                        </a>

                                    </div>

                                </div>

                                <div class="showcase">

                                    <a href="/pr9/cliente/datos" class="showcase-img-box">
                                        <ion-icon name="person" style="color: var(--ocean-green);"></ion-icon>
                                    </a>

                                    <div class="showcase-content">

                                        <a href="#">
                                            <h4 class="showcase-title">Datos personales</h4>
                                        </a>

                                    </div>
                                </div>

                                <div class="showcase">
                                    <a href="/pr9/cliente/favoritos" class="showcase-img-box">
                                        <ion-icon name="heart-outline" style="color: var(--salmon-pink);"></ion-icon>
                                    </a>

                                    <div class="showcase-content">
                                        <a href="#">
                                            <h4 class="showcase-title">Favoritos</h4>
                                        </a>

                                    </div>
                                </div> <!-- showcase -->


                                <div class="showcase">
                                    <a href="/pr9/logout" class="showcase-img-box">
                                        <ion-icon name="exit" style="color: var(--onyx);"></ion-icon>
                                    </a>
                                    <div class="showcase-content">
                                        <a th:href="@{|/auth/logout|}">
                                            <h4 class="showcase-title">Cerrar sesión</h4>
                                        </a>

                                    </div>
                                </div> <!-- showcase -->




                            </div>

                        </div>

                    </div>

                </div>


                <div class="product-box">

                    <!--
                                - PRODUCT FEATURED
                        -->

                    <div class="product-featured">

                        <h1 class="title">Pedido [[ ${pedido.codigo} ]]</h1>

                        <div class="showcase-wrapper">

                            <div class="showcase-container">

                                <p class="showcase-desc">
                                    <label>Fecha: </label>
                                    [[ ${#dates.format(pedido.fechacierre, 'dd/MM/yyyy')} ]]
                                </p>
                                
                                <p class="showcase-desc">
                                    <label>Direccion de entrega: </label>
                                    <span>[[ ${pedido.direccion.calle} ]]</span> 
                                    <span>[[ ${pedido.direccion.ciudad} ]]</span> 
                                    <span>[[ ${pedido.direccion.cp} ]] ([[ ${pedido.direccion.provincia} ]])</span>
                                </p>
                                
                                <p class="showcase-desc"
                                    th:style="'color: ' + (${pedido.completado} ? 'blue' : 'green')"
                                    style="font-size: 16px; font-weight: bold;">
                                     [[${pedido.completado} ? 'Completado' : 'En Curso']]
                                </p>
                                
                                <div class="tabla-pedido">
                                    <table>
                                        <thead>
                                          <tr>
                                            <th>Código</th>
                                            <th>Artículo</th>
                                            <th>Cantidad</th>
                                            <th>Precio</th>
                                            <th>Fecha prevista</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                            <tr th:each="linea : ${pedido.lineas}">
                                                <td th:text="${linea.codigo}">[[ ${linea.codigo} ]]</td>
                                                <td>[[ ${linea.articulo.nombre} ]]</td>
                                                <td>[[ ${linea.cantidad} ]]</td>
                                                <td>[[ ${linea.precioBase} ]]</td>
                                                <td>[[ ${#dates.format(linea.fechaEntregaPrevista, 'dd/MM/yyyy')} ]]</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                    
                            </div>

                        </div>

                    </div>

                </div>

            </div>
            </div>
        </main>
    </body>
</html>

